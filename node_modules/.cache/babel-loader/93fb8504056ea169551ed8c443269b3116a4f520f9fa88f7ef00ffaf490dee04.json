{"ast":null,"code":"import _slicedToArray from\"/Users/matar.jacob/Desktop/FullStack Moveo Course/epicure/epicure/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import Navbar from\"../../../navbar/Navbar\";import{useSelector}from\"react-redux\";import{useDispatch}from\"react-redux\";import{filterRestaurants}from\"../../../../store/slices/restaurantsSlice\";import\"./restaurantPage.css\";import Footer from\"../../../home/components/footer/Footer\";import{filterDishes}from\"../../../../store/slices/dishesSlice\";import DishMenuCard from\"./dishes/DishMenuCard\";import ModalDishBox from\"./dishes/ModalDishBox/ModalDishBox\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RestaurantPage=function RestaurantPage(){var _useParams=useParams(),id=_useParams.id;var restaurantsData=useSelector(function(state){return state.restaurants.value;});var dishesData=useSelector(function(state){return state.dishes.value;});var dispatch=useDispatch();var now=new Date();var currentHour=now.getHours();useEffect(function(){dispatch(filterRestaurants('all'));dispatch(filterDishes('all'));},[]);var currentRest=restaurantsData.filter(function(rest){return rest.id==id;})[0];var currentDishes=dishesData.filter(function(dish){return dish.restaurantID==id;});var openningHour=currentRest.openHour;var isOpen=currentHour>=openningHour?\"Open now\":\"Close\";var handleFilter=function handleFilter(category){dispatch(filterDishes(category));};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),modalIDDish=_useState4[0],setModalIDDish=_useState4[1];var handleModal=function handleModal(id){setModalIDDish(id);setIsModalOpen(true);console.log(modalIDDish);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-page\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"restaurant-details-hero\",children:[/*#__PURE__*/_jsx(\"img\",{id:\"rest-hero-img\",src:currentRest.img,alt:\"\"}),/*#__PURE__*/_jsx(\"h1\",{id:\"restaurant-page-name\",children:currentRest.name}),/*#__PURE__*/_jsx(\"span\",{id:\"chef-name\",children:currentRest.chef}),/*#__PURE__*/_jsxs(\"span\",{id:\"open-status\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../Assets/clock.svg\",alt:\"\"}),isOpen]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"dishes-category-buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"dishes-category\",onClick:function onClick(){return handleFilter(\"breakfast\");},children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dishes-category\",onClick:function onClick(){return handleFilter(\"launch\");},children:\"Launch\"}),/*#__PURE__*/_jsx(\"button\",{className:\"dishes-category\",onClick:function onClick(){return handleFilter(\"dinner\");},children:\"Dinner\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"dishes-menu-cards-container\",children:currentDishes.length>=1?currentDishes.map(function(dish){return/*#__PURE__*/_jsx(DishMenuCard,{name:dish.name,img:dish.img,ingredients:dish.ingredients,foodType:dish.foodType,price:dish.price,id:dish.id,onClick:function onClick(){return handleModal(dish.id);}});}):\"No available dishes\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ModalDishBox,{id:modalIDDish,isOpen:isModalOpen,onClose:function onClose(){return setIsModalOpen(false);}})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default RestaurantPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Navbar","useSelector","useDispatch","filterRestaurants","Footer","filterDishes","DishMenuCard","ModalDishBox","RestaurantPage","id","restaurantsData","state","restaurants","value","dishesData","dishes","dispatch","now","Date","currentHour","getHours","currentRest","filter","rest","currentDishes","dish","restaurantID","openningHour","openHour","isOpen","handleFilter","category","isModalOpen","setIsModalOpen","modalIDDish","setModalIDDish","handleModal","console","log","img","name","chef","length","map","ingredients","foodType","price"],"sources":["/Users/matar.jacob/Desktop/FullStack Moveo Course/epicure/epicure/src/components/reastaurants/components/restaurantsPage/RestaurantPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar from \"../../../navbar/Navbar\";\nimport { useSelector } from \"react-redux\";\nimport { Istore } from \"../../../../types/interfaces/Istore\";\nimport { useDispatch } from \"react-redux\";\nimport { filterRestaurants } from \"../../../../store/slices/restaurantsSlice\";\nimport \"./restaurantPage.css\";\nimport Footer from \"../../../home/components/footer/Footer\";\nimport { filterDishes } from \"../../../../store/slices/dishesSlice\";\nimport DishMenuCard from \"./dishes/DishMenuCard\";\nimport IDishCard from \"../../../../types/interfaces/IDishCard\";\nimport ICard from \"../../../../types/interfaces/ICard\";\nimport ModalDishBox from \"./dishes/ModalDishBox/ModalDishBox\";\n\nconst RestaurantPage: React.FC = ()=>{\n    const { id } = useParams();\n    const restaurantsData = useSelector((state:Istore)=>state.restaurants.value);\n    const dishesData = useSelector((state:Istore)=>state.dishes.value);\n    const dispatch = useDispatch();\n    const now = new Date();\n    const currentHour = now.getHours(); \n\n    useEffect(()=>{\n        dispatch(filterRestaurants('all'));\n        dispatch(filterDishes('all'));\n\n    }, [])\n    const currentRest = restaurantsData.filter((rest)=>rest.id==id)[0];\n    const currentDishes = dishesData.filter((dish)=>dish.restaurantID==id);\n    const openningHour: number | undefined = currentRest.openHour;\n    const isOpen: string = currentHour>=openningHour ? \"Open now\" : \"Close\";\n\n    const handleFilter = (category:string)=>{\n        dispatch(filterDishes(category));\n    }\n\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [modalIDDish, setModalIDDish] = useState<number>(0);\n\n    const handleModal = (id:number)=>{\n        setModalIDDish(id);\n        setIsModalOpen(true);\n        console.log(modalIDDish);\n    }\n\n    return(\n        <>\n            <Navbar/>\n                <div className=\"restaurant-page\">\n                    <div id=\"restaurant-details-hero\">\n                        <img id=\"rest-hero-img\" src={currentRest.img} alt=\"\" />\n                        <h1 id=\"restaurant-page-name\">{currentRest.name}</h1>\n                        <span id=\"chef-name\">{currentRest.chef}</span>\n                        <span id=\"open-status\"><img src=\"../Assets/clock.svg\" alt=\"\" />{isOpen}</span>\n                    </div>\n                    <div id=\"dishes-category-buttons-container\">\n                        <button className=\"dishes-category\" onClick={()=>handleFilter(\"breakfast\")}>Breakfast</button>\n                        <button className=\"dishes-category\" onClick={()=>handleFilter(\"launch\")}>Launch</button>\n                        <button className=\"dishes-category\" onClick={()=>handleFilter(\"dinner\")}>Dinner</button>\n                    </div>\n                <div id=\"dishes-menu-cards-container\">\n                    {currentDishes.length>=1 ? currentDishes.map((dish:IDishCard)=>(\n                        <DishMenuCard \n                        name={dish.name}\n                        img={dish.img}\n                        ingredients = {dish.ingredients}\n                        foodType={dish.foodType}\n                        price={dish.price}\n                        id={dish.id}\n                        onClick={()=>handleModal(dish.id)}/>\n                    ))\n                    :\"No available dishes\"}\n                </div>\n                <div>\n                    <ModalDishBox id={modalIDDish} isOpen={isModalOpen} onClose={()=>setIsModalOpen(false)}/>\n                </div>\n                </div>\n            <Footer/>\n        </>\n    )\n}\n\nexport default RestaurantPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}